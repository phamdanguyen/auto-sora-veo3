<div :class="sidebarCollapsed ? 'w-20' : 'w-72'"
    class="sidebar-glass text-white flex flex-col z-20 transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1)">
    <div class="p-6 border-b border-white/10 flex items-center justify-between h-20">
        <div class="flex items-center space-x-3 overflow-hidden"
            :class="sidebarCollapsed ? 'px-0 justify-center w-full' : ''">
            <div class="w-10 h-10 gradient-btn rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg">
                <span class="text-white font-bold text-xl">U</span>
            </div>
            <span class="text-2xl font-bold tracking-tight whitespace-nowrap gradient-text"
                x-show="!sidebarCollapsed">Uni-Video</span>
        </div>
        <button @click="sidebarCollapsed = !sidebarCollapsed" x-show="!sidebarCollapsed"
            class="text-gray-400 hover:text-white focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7">
                </path>
            </svg>
        </button>
    </div>

    <div x-show="sidebarCollapsed" class="flex justify-center py-2 border-b border-gray-800">
        <button @click="sidebarCollapsed = !sidebarCollapsed" class="text-gray-400 hover:text-white">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7">
                </path>
            </svg>
        </button>
    </div>

    <nav class="flex-1 px-3 py-4 space-y-2 overflow-y-auto">
        <a href="#" @click="currentTab = 'dashboard'"
            :class="{'nav-item-active text-white': currentTab === 'dashboard', 'text-gray-400 hover:text-white hover:bg-white/5': currentTab !== 'dashboard', 'justify-center': sidebarCollapsed}"
            class="flex items-center p-3 rounded-xl transition-all duration-300 group relative">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z">
                </path>
            </svg>
            <span :class="sidebarCollapsed ? 'hidden' : 'ml-4 font-medium whitespace-nowrap'">Dashboard</span>
            <!-- Tooltip -->
            <div x-show="sidebarCollapsed"
                class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-50 whitespace-nowrap pointer-events-none">
                Dashboard</div>
        </a>

        <a href="#" @click="currentTab = 'accounts'"
            :class="{'nav-item-active text-white': currentTab === 'accounts', 'text-gray-400 hover:text-white hover:bg-white/5': currentTab !== 'accounts', 'justify-center': sidebarCollapsed}"
            class="flex items-center p-3 rounded-xl transition-all duration-300 group relative">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z">
                </path>
            </svg>
            <span :class="sidebarCollapsed ? 'hidden' : 'ml-4 font-medium whitespace-nowrap'">Accounts</span>
            <div x-show="sidebarCollapsed"
                class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-50 whitespace-nowrap pointer-events-none">
                Accounts</div>
        </a>

        <a href="#" @click="currentTab = 'jobs'; fetchJobs()"
            :class="{'nav-item-active text-white': currentTab === 'jobs', 'text-gray-400 hover:text-white hover:bg-white/5': currentTab !== 'jobs', 'justify-center': sidebarCollapsed}"
            class="flex items-center p-3 rounded-xl transition-all duration-300 group relative">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14-4H5m14 8H5m14 4H5">
                </path>
            </svg>
            <span :class="sidebarCollapsed ? 'hidden' : 'ml-4 font-medium whitespace-nowrap'">Jobs Queue</span>
            <div x-show="sidebarCollapsed"
                class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-50 whitespace-nowrap pointer-events-none">
                Jobs Queue</div>
        </a>

        <a href="#" @click="currentTab = 'history'; fetchJobs()"
            :class="{'nav-item-active text-white': currentTab === 'history', 'text-gray-400 hover:text-white hover:bg-white/5': currentTab !== 'history', 'justify-center': sidebarCollapsed}"
            class="flex items-center p-3 rounded-xl transition-all duration-300 group relative">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01">
                </path>
            </svg>
            <span :class="sidebarCollapsed ? 'hidden' : 'ml-4 font-medium whitespace-nowrap'">Job
                Complete</span>
            <div x-show="sidebarCollapsed"
                class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-50 whitespace-nowrap pointer-events-none">
                Job Complete</div>
        </a>

        <a href="#" @click="currentTab = 'about'; fetchLicenseInfo()"
            :class="{'nav-item-active text-white': currentTab === 'about', 'text-gray-400 hover:text-white hover:bg-white/5': currentTab !== 'about', 'justify-center': sidebarCollapsed}"
            class="flex items-center p-3 rounded-xl transition-all duration-300 group relative">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span :class="sidebarCollapsed ? 'hidden' : 'ml-4 font-medium whitespace-nowrap'">About</span>
            <div x-show="sidebarCollapsed"
                class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-50 whitespace-nowrap pointer-events-none">
                About</div>
        </a>
    </nav>
    <div class="p-4 text-sm text-gray-500 border-t border-gray-700 bg-gray-900">
        <div :class="sidebarCollapsed ? 'text-center text-xs' : ''" x-text="sidebarCollapsed ? 'v1.1' : 'v1.1.0'"></div>
    </div>
</div>